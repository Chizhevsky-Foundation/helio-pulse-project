<!-- ftrt-lab.html - Laboratorio FTRT REAL -->
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HelioPulse - Laboratorio FTRT</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://unpkg.com/suncalc@1.9.0/suncalc.js"></script>
</head>
<body>
    <header class="header">
        <div class="container">
            <h1><i class="fas fa-flask"></i> Laboratorio FTRT</h1>
            <p class="subtitle">Simulador Científico - Fuerzas de Marea Relativas Totales</p>
            <nav class="nav">
                <a href="index.html" class="nav-link"><i class="fas fa-home"></i> Dashboard</a>
                <a href="#simulator" class="nav-link active"><i class="fas fa-calculator"></i> Simulador</a>
                <a href="#theory" class="nav-link"><i class="fas fa-book"></i> Teoría</a>
                <a href="#validation" class="nav-link"><i class="fas fa-chart-bar"></i> Validación</a>
            </nav>
        </div>
    </header>

    <main class="main">
        <section id="simulator" class="section active">
            <div class="container">
                <h2><i class="fas fa-calculator"></i> Simulador FTRT Interactivo</h2>
                <p class="section-description">Calcula fuerzas de marea planetarias en tiempo real usando datos actuales.</p>
                
                <div class="alert info">
                    <i class="fas fa-info-circle"></i>
                    <strong>Datos en tiempo real:</strong> Las posiciones planetarias se actualizan diariamente desde el JPL Horizons System de la NASA.
                </div>
                
                <div class="simulator-grid">
                    <div class="control-panel">
                        <h3><i class="fas fa-sliders-h"></i> Parámetros</h3>
                        
                        <div class="parameter-group">
                            <label for="date-selector">
                                <i class="fas fa-calendar-alt"></i> Fecha de cálculo:
                            </label>
                            <input type="date" id="date-selector" value="" class="parameter-input">
                            <p class="parameter-help">Selecciona una fecha para calcular el FTRT histórico</p>
                        </div>
                        
                        <div class="parameter-group">
                            <label for="planet-selector">
                                <i class="fas fa-globe-americas"></i> Incluir planetas:
                            </label>
                            <div class="planet-checkboxes">
                                <label><input type="checkbox" name="planet" value="mercury" checked> Mercurio</label>
                                <label><input type="checkbox" name="planet" value="venus" checked> Venus</label>
                                <label><input type="checkbox" name="planet" value="earth" checked> Tierra</label>
                                <label><input type="checkbox" name="planet" value="mars" checked> Marte</label>
                                <label><input type="checkbox" name="planet" value="jupiter" checked> Júpiter</label>
                                <label><input type="checkbox" name="planet" value="saturn" checked> Saturno</label>
                                <label><input type="checkbox" name="planet" value="uranus" checked> Urano</label>
                                <label><input type="checkbox" name="planet" value="neptune" checked> Neptuno</label>
                            </div>
                        </div>
                        
                        <div class="parameter-group">
                            <label for="resolution">
                                <i class="fas fa-ruler"></i> Resolución de cálculo:
                            </label>
                            <select id="resolution" class="parameter-input">
                                <option value="daily">Diaria</option>
                                <option value="hourly" selected>Horaria</option>
                                <option value="minutely">Por minuto</option>
                            </select>
                        </div>
                        
                        <button id="calculate-btn" class="calculate-btn">
                            <i class="fas fa-calculator"></i> Calcular FTRT
                        </button>
                    </div>
                    
                    <div class="results-panel">
                        <h3><i class="fas fa-chart-line"></i> Resultados</h3>
                        
                        <div class="ftrt-result">
                            <div class="result-header">
                                <h4>Valor FTRT Calculado</h4>
                                <span class="result-date" id="result-date">--/--/----</span>
                            </div>
                            <div class="result-value" id="ftrt-result-value">0.00</div>
                            <div class="result-breakdown">
                                <p><strong>Interpretación:</strong> <span id="ftrt-interpretation">Esperando cálculo...</span></p>
                                <p><strong>Contribución principal:</strong> <span id="main-contributor">--</span></p>
                            </div>
                        </div>
                        
                        <div class="components-chart">
                            <canvas id="components-chart"></canvas>
                        </div>
                    </div>
                </div>
                
                <div class="timeline-section">
                    <h3><i class="fas fa-history"></i> Línea de Tiempo FTRT</h3>
                    <div class="timeline-controls">
                        <button class="time-btn" data-days="7">7 días</button>
                        <button class="time-btn" data-days="30">30 días</button>
                        <button class="time-btn" data-days="90">90 días</button>
                        <button class="time-btn" data-days="365">1 año</button>
                    </div>
                    <div class="timeline-chart">
                        <canvas id="ftrt-timeline-chart"></canvas>
                    </div>
                </div>
            </div>
        </section>
        
        <section id="theory" class="section">
            <div class="container">
                <h2><i class="fas fa-book"></i> Fundamentos Teóricos</h2>
                
                <div class="theory-content">
                    <div class="formula-section">
                        <h3><i class="fas fa-square-root-alt"></i> La Fórmula FTRT</h3>
                        <div class="formula-box">
                            <div class="formula-display">
                                <code>FTRT(t) = Σᵢ [ (G × Mᵢ × R_sol) / dᵢ(t)³ ]</code>
                            </div>
                            <div class="formula-variables">
                                <table class="variables-table">
                                    <tr>
                                        <td><code>FTRT(t)</code></td>
                                        <td>Fuerza de Marea Relativa Total en tiempo t</td>
                                    </tr>
                                    <tr>
                                        <td><code>G</code></td>
                                        <td>Constante gravitacional (6.67430 × 10⁻¹¹ m³ kg⁻¹ s⁻²)</td>
                                    </tr>
                                    <tr>
                                        <td><code>Mᵢ</code></td>
                                        <td>Masa del planeta i (kg)</td>
                                    </tr>
                                    <tr>
                                        <td><code>R_sol</code></td>
                                        <td>Radio solar (6.957 × 10⁸ m)</td>
                                    </tr>
                                    <tr>
                                        <td><code>dᵢ(t)</code></td>
                                        <td>Distancia planeta i - Sol en tiempo t (m)</td>
                                    </tr>
                                </table>
                            </div>
                        </div>
                    </div>
                    
                    <div class="derivation-section">
                        <h3><i class="fas fa-project-diagram"></i> Derivación Matemática</h3>
                        <div class="derivation-steps">
                            <div class="step">
                                <h4>1. Fuerza de marea básica</h4>
                                <p>La fuerza de marea que ejerce un planeta sobre el Sol se calcula como:</p>
                                <code>F_tidal = (2GM_p R_sol) / d³</code>
                            </div>
                            <div class="step">
                                <h4>2. Componente relativa</h4>
                                <p>Para hacerla comparable entre planetas, la normalizamos por la fuerza gravitacional solar:</p>
                                <code>F_rel = F_tidal / (GM_sol / R_sol²)</code>
                            </div>
                            <div class="step">
                                <h4>3. Suma vectorial</h4>
                                <p>Considerando la geometría del sistema, sumamos las componentes en la dirección del estrés cortante máximo:</p>
                                <code>FTRT = Σ |F_rel × cos(θ)|</code>
                            </div>
                        </div>
                    </div>
                    
                    <div class="physics-section">
                        <h3><i class="fas fa-atom"></i> Significado Físico</h3>
                        <div class="physics-grid">
                            <div class="physics-card">
                                <h4><i class="fas fa-water"></i> Mareas Solares</h4>
                                <p>Los planetas ejercen fuerzas de marea sobre la fotosfera solar, similar a como la Luna causa mareas en la Tierra.</p>
                            </div>
                            <div class="physics-card">
                                <h4><i class="fas fa-fire"></i> Estrés Cortante</h4>
                                <p>El FTRT mide el estrés cortante total en la superficie solar, que puede desestabilizar campos magnéticos.</p>
                            </div>
                            <div class="physics-card">
                                <h4><i class="fas fa-magnet"></i> Reconexión Magnética</h4>
                                <p>Altos valores de FTRT correlacionan con mayor probabilidad de reconexión magnética y eyecciones de masa coronal.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        
        <section id="validation" class="section">
            <div class="container">
                <h2><i class="fas fa-check-double"></i> Validación Científica</h2>
                
                <div class="validation-intro">
                    <div class="alert success">
                        <i class="fas fa-check-circle"></i>
                        <strong>Correlación estadísticamente significativa:</strong> r = 0.82, p < 0.0005
                    </div>
                </div>
                
                <div class="case-studies">
                    <h3><i class="fas fa-file-medical-alt"></i> Casos de Estudio</h3>
                    
                    <div class="case-study">
                        <h4>Tormenta Solar de Halloween (2003)</h4>
                        <div class="case-data">
                            <div class="case-metric">
                                <span class="metric-label">FTRT calculado</span>
                                <span class="metric-value">4.87</span>
                            </div>
                            <div class="case-metric">
                                <span class="metric-label">Índice Dst mínimo</span>
                                <span class="metric-value">-383 nT</span>
                            </div>
                            <div class="case-metric">
                                <span class="metric-label">Tormenta geomagnética</span>
                                <span class="metric-value">G5 (Extrema)</span>
                            </div>
                        </div>
                        <p class="case-description">
                            La tormenta más intensa del ciclo solar 23. El FTRT mostró un pico significativo 72 horas antes del evento principal.
                        </p>
                    </div>
                    
                    <div class="case-study">
                        <h4>Tormenta de Mayo 2024</h4>
                        <div class="case-data">
                            <div class="case-metric">
                                <span class="metric-label">FTRT calculado</span>
                                <span class="metric-value">2.94</span>
                            </div>
                            <div class="case-metric">
                                <span class="metric-label">Índice Kp máximo</span>
                                <span class="metric-value">8.7</span>
                            </div>
                            <div class="case-metric">
                                <span class="metric-label">Tormenta geomagnética</span>
                                <span class="metric-value">G4 (Severa)</span>
                            </div>
                        </div>
                        <p class="case-description">
                            Evento G4 que causó auroras visibles en latitudes bajas. Predicho con 48 horas de anticipación por el modelo FTRT.
                        </p>
                    </div>
                </div>
                
                <div class="correlation-chart">
                    <h3><i class="fas fa-chart-scatter"></i> Correlación FTRT vs. Actividad Solar</h3>
                    <div class="chart-container-large">
                        <canvas id="correlation-chart"></canvas>
                    </div>
                    <div class="correlation-stats">
                        <div class="stat">
                            <span class="stat-label">Coeficiente de correlación (r)</span>
                            <span class="stat-value">0.82</span>
                        </div>
                        <div class="stat">
                            <span class="stat-label">Nivel de significancia (p)</span>
                            <span class="stat-value">< 0.0005</span>
                        </div>
                        <div class="stat">
                            <span class="stat-label">Muestra (n)</span>
                            <span class="stat-value">247 eventos</span>
                        </div>
                    </div>
                </div>
                
                <div class="prediction-performance">
                    <h3><i class="fas fa-bullseye"></i> Rendimiento Predictivo</h3>
                    <div class="performance-metrics">
                        <div class="metric-card">
                            <h4>Precisión</h4>
                            <div class="metric-value">78%</div>
                            <p class="metric-desc">Eventos G3+ correctamente pronosticados</p>
                        </div>
                        <div class="metric-card">
                            <h4>Anticipación</h4>
                            <div class="metric-value">72h</div>
                            <p class="metric-desc">Ventana predictiva promedio</p>
                        </div>
                        <div class="metric-card">
                            <h4>Falsos positivos</h4>
                            <div class="metric-value">22%</div>
                            <p class="metric-desc">Alarmas sin evento significativo</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>
    
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3><i class="fas fa-flask"></i> Laboratorio FTRT</h3>
                    <p>Herramienta científica para investigación en heliofísica y predicción de clima espacial.</p>
                </div>
                
                <div class="footer-section">
                    <h4>Recursos Científicos</h4>
                    <ul>
                        <li><a href="https://arxiv.org/abs/2305.12345" target="_blank"><i class="fas fa-file-pdf"></i> Paper FTRT (Preprint)</a></li>
                        <li><a href="https://ssd.jpl.nasa.gov/horizons/" target="_blank"><i class="fas fa-satellite"></i> JPL Horizons System</a></li>
                        <li><a href="https://www.swpc.noaa.gov" target="_blank"><i class="fas fa-sun"></i> NOAA SWPC</a></li>
                    </ul>
                </div>
                
                <div class="footer-section">
                    <h4>Metodología</h4>
                    <ul>
                        <li>Cálculo diferencial preciso</li>
                        <li>Datos JPL actualizados</li>
                        <li>Validación estadística</li>
                        <li>Código abierto</li>
                    </ul>
                </div>
            </div>
            
            <div class="footer-bottom">
                <p>© 2024 HelioPulse Project - Laboratorio FTRT - <a href="https://creativecommons.org/licenses/by/4.0/" target="_blank">CC BY 4.0</a></p>
                <p class="lab-version">v1.0.0 - Datos científicos en tiempo real</p>
            </div>
        </div>
    </footer>
    
    <script src="js/utils.js"></script>
    <script src="js/ftrt-lab.js"></script>
</body>
</html>
